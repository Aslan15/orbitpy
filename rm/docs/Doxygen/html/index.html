<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: &lt;b&gt;Orbit Module&lt;/b&gt; &mdash; TAT-C Version 2.0</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title"><b>Orbit Module</b> &mdash; TAT-C Version 2.0 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="userGuide"></a>
User Guide</h1>
<p><b>Compilation</b> - make all <br />
 <b>Cleaning</b> - make bare <br />
 <b>Running</b> - ./bin/reductionMetrics <b>param1</b> <b>param2</b> <br />
 <br />
 <br />
</p>
<p><b>param1</b> - Path to &lt;mission_name&gt;.json (including mission file extension) <br />
 <b>param2</b> - Path to &lt;architecture&gt;.json (directory only) <br />
</p>
<h1><a class="anchor" id="Introduction"></a>
Introduction</h1>
<p>The Orbit module's main purpose is to simulate a mission architecture (DSM) and calculate metrics on that architecture. These metrics <br />
 are then visualized by the front-end, helping the user assign value to different architectures. <br />
 <br />
 Previously (TAT-C version 1.0), the Orbit module was broken up into two separate modules:</p><ol type="1">
<li>Reduction and <a class="el" href="class_metrics.html" title="This class computes access metrics on one or multiple Satellites.">Metrics</a> <br />
</li>
<li>Orbit and Coverage <br />
 <br />
 Because these two modules are so closly related, they have been merged into one Orbit module for TAT-C 2.0. <br />
 These two modules must be understood separately to show how the Orbit module works. I will briefly <br />
 review each of the modules's functionality, painting a picture of how the Orbit module works. Keep in mind, the functionality mentioned will <br />
 only be relavent to TAT-C Version 2.0 <br />
 <br />
 From this point on, the Orbit and Coverage module will be referred to as the "OC" module and the <br />
 Reduction and <a class="el" href="class_metrics.html" title="This class computes access metrics on one or multiple Satellites.">Metrics</a> module will be referred to as the "RM" module.</li>
</ol>
<h1><a class="anchor" id="orbit_coverage"></a>
Orbit and Coverage (OC)</h1>
<p>The OC module is a library of classes that can be built/combined to model a Satellite, model Instruments on a satellite, propagate that Satellite's orbit, <br />
 and calculate earth point coverage for that Satellite. These capibilities can be broken down into two main functionalities: <br />
</p><ol type="1">
<li><b>Orbit Calculation</b> <br />
</li>
<li><b>Coverage Calculation</b> <br />
 <br />
</li>
</ol>
<h2><a class="anchor" id="orb_calc"></a>
Orbit Calculation</h2>
<p>The Orbit Calculations require a "Satellite" object and a "Propagator" object. The "Satellite" object models one satellite including any Instruments in its payload. <br />
 The "Propagator" object simulates a satellite object's orbit about an orbit. The satellite's position is calculated and stored for later use during each propagation step. <br />
 The time duration between each propagation calculation is determined by a "timestep" provided by the user. <br />
</p>
<h2><a class="anchor" id="cov_calc"></a>
Coverage Calculation</h2>
<p>Typically, after each propagation step (orbit calculation), earth point coverage is calculated for each Instrument on the satellite. How is this done? <br />
 In order to calculate earth point coverage, we first need a set of points to be analyzing on the earth. A "PointGroup" object models this just. <br />
 There are two classifications of PointGroups: <br />
</p>
<ol type="1">
<li><b>Area of Interest</b> <br />
 Before tat-c runs, the user will specify an Area of Interest defining what part of the earth they want to analyze during their mission. <br />
 A PointGroup is created containing evenly distributed lat/lon points modeling this Area of Interest. <br />
</li>
<li><b>Ground Network</b> <br />
 For every architecture, a network of Ground Stations is provided. <br />
 Each Ground Station is modeled as one lat/lon point in a PointGroup and all those points model a Ground Network. <br />
 <br />
</li>
</ol>
<p>But how are we looking at these PointGroup objects? Each satellite has a payload that can contain multiple instruments. Each of these on-board instruments has a coverage <br />
 that is used to determine if a point in a PointGroup is visible or not. Because the OC module knows the satellite's position/orientation (due to the Orbit Calculation), the OC module <br />
 can now calculate which points out of all the PointGroups are visible. For each point seen, a VisiblePOIReport is returned stating at what time that point was seen.</p>
<h1><a class="anchor" id="reduction_metrics"></a>
Reduction and Metrics (RM)</h1>
<p>The RM module can be thought of as the layer above the OC module. Similar to OC, RM has two main functionalities:</p><ol type="1">
<li><b>Reduction</b> <br />
</li>
<li><b><a class="el" href="class_metrics.html" title="This class computes access metrics on one or multiple Satellites.">Metrics</a></b> <br />
 <br />
</li>
</ol>
<h2><a class="anchor" id="reduction"></a>
Reduction</h2>
<p>RM first acts as "wrapper" for the OC module. It will read in an architecture (DSM) from a JSON document and build the appropriate OC classes (see Orbit and Coverage section) to simulate this architecture. <br />
 But why is this functoinality called "Reduction"? An example will best explain this. <br />
 <br />
</p>
<p>Let's say two separate architectures (arch A and arch B) both contain a Satellite (sat S) with an identical orbit. <br />
 Arch A will be evaluated first. During its evaluation, sat S will be propagated around the earth and all of its positions/orientations will be recorded and stored. <br />
 Now, Arch B will be evaluated. During its evaluation, RM will see that sat S was already propagated around the earth during Arch A's evaluation. <br />
 Because propagation is a costly calculation, RM will used sat S's stored positions/orientations (from Arch A's evaluation) to calculate coverage instead of propagating sat S a second time. <br />
 This allows us to reuse satellite propagation, even if the same satellite S has different Instruments across Arch A and B. <br />
</p>
<p><b>Note</b>: the propagation time step and mission start/end date will be the same across all architectures. <br />
</p>
<p>As stated above, the OC module will return a vector of VisiblePOIReports to RM. These are used in RM's second functionality.</p>
<h2><a class="anchor" id="metrics"></a>
Metrics</h2>
<p>After the OC module has been called and all earth point access history has been retrieved, metrics will be calculated on the data. <br />
 Local and Global metrics will be calculated for the architecture being evaluated. Local metrics pertain to a specific point of interest while Global metrics <br />
 describe all the points of interest. <br />
 <br />
 It should be noted that some Global and Local metrics are calculated after each Satellite in the architecture is simulated (opposed to after all the Satellites have been simulated). <br />
 This may seem reudandant, as the metrics calculations could be done only once after all the Satellites have been propagated. <br />
 But running this calculation only once would mean the access history computed for all the Satellites in the architecture would have to be presant at the same time. <br />
 This takes up a huge amount of memory and leads to memory issues. <br />
 Calculating the metrics iteravely (after the coverage calculations for each Satellite) allows us to free the memory containing this satellite's access history in <br />
 preparation for the next Satellite's propagation. This drastically reduces the memory used in a single run of the Orbit module.<br />
 <br />
</p>
<h1><a class="anchor" id="everything"></a>
Putting it all together</h1>
<p>It is important to note that the Orbit module processes one architecture per call. Here is a high-level list of steps that the Orbit module <br />
 takes when evaluating an architecture: <br />
 (Steps 2 - 7 will loop for each of the satellites in an architecture) <br />
</p><ol type="1">
<li>Read in an architecture <br />
</li>
<li>Build the satellite and instrument objects for the current Satellite</li>
<li>Create the Ground Network and Area of Interest PointGroups to be analyzed</li>
<li>Propagate the satellite's orbit</li>
<li>Store the access history data for this satellite's orbit</li>
<li>Calculate metrics incorporating this satellite's access history data</li>
<li>Free memory containing access history <br />
</li>
<li>Write Global and Local metrics to appropriate files to be used in visualizations</li>
</ol>
<p>So what else is new in version 2.0? <br />
 The Orbit Module has a Cache System that records satellite access info as they are processed. This access info is written to "satX_accessInfo.csv" files, where the X denotes the satellite's ID. If the orbit module encounters a satellite that has been processed by a previous architecture, it will load that satellite's access info from the cache instead of re-propagating the satellite. The cache system was also created to use system disc memory as efficiently as possible. Below, I will go over the different output files and how the cache minimizes memory usage. <br />
 <br />
 </p>
<h2><a class="anchor" id="outputs"></a>
Outputs</h2>
<p>The files outputted by the Orbit Module fall into three different categories <br />
</p><ol type="1">
<li>Satellite Specific Files - files that contain information on a specific satellite</li>
<li>Architecture Specific Files - files that contain information pertaining to a specific architecture</li>
<li>Mission Specific Files - files that contain informattion pertaining to the whole mission <br />
 In TAT-C's current architecture, there is one large mission directory containing many architecture directories. It would make sense to place the mission specific files (poi.csv) in the root mission directory, but other modules need this file to be in the architecture directories to function. This means that mission specific files will be duplicated in architecture directories (thus wasting memory). Similarly, satellite specific files need to be placed in the architecture directories so that other modules can extract information from them. In many cases, two different architectures will have a common satellite, so these satellite specific files will be duplicated in these directories. <br />
 The solution to this memory management issue is to place satellite specific files in the "/...../cache/satellite" directory and the mission specific files in the "/...../cache' directory. From here, we will create hard links from the cache to the desired architecure directories. This way, there will be no duplicate files and all the modules can still access the files they need. <br />
 <br />
 </li>
</ol>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
